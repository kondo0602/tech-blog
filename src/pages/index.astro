---
import { getCollection } from "astro:content";
import BaseLayout from "@layouts/BaseLayout.astro";
import PostCardList from "@components/PostCardList.astro";

const pageTitle = "Posts";
const allPosts = await getCollection("posts");
const sortedPosts = allPosts.sort((a, b) => {
  return (
    new Date(b.data.pubDate).getTime() - new Date(a.data.pubDate).getTime()
  );
});
---

<BaseLayout title={pageTitle}>
  <PostCardList posts={sortedPosts} />
</BaseLayout>
